<form>
    {{{intro}}}
    {{#if useTabbedViews}}
      <nav class="sheet-navigation tabs" data-group="primary">
        {{#each settings as |group|}}
          <a class="item active" data-tab="{{@key}}"><i class="{{twodsix_getSettingIcon @key}}"></i> {{localize (concat "TWODSIX.Settings.menuLabels." @key)}}</a>
        {{/each}}
      </nav>

      <section class="sheet-body auto-height">
        {{#each settings as |group|}}
          <div class="tab {{@key}}" data-group="primary" data-tab="{{@key}}">
            {{#each group as |setting key|}}
              <div class="form-group">
                  <label>{{{localize setting.name}}}</label>
                  <div class="form-fields">
                      {{#iff setting.htmlType "===" "Number"}}
                      <input type="number" name="{{key}}" value="{{setting.value}}" data-dtype="Number">
                      {{/iff}}
                      {{#iff setting.htmlType "===" "String"}}
                      <input type="text" name="{{key}}" value="{{setting.value}}" data-dtype="String">
                      {{/iff}}

                      {{#iff setting.htmlType "===" "Select"}}
                      <select name="{{key}}" id = "{{key}}" value="{{setting.value}}">
                        {{selectOptions setting.choices selected = setting.value localize = setting.localize}}
                      </select>
                      {{/iff}}

                      {{#iff setting.htmlType "===" "Boolean"}}
                      <span class="advanced-settings-checkbox-wrapper">
                          <input type="checkbox" name="{{key}}" data-dtype="Boolean" {{#if setting.value}}checked{{/if}}>
                      </span>
                      {{/iff}}

                      {{#iff setting.htmlType "===" "Color"}}
                      <span class = "color-select" name="{{key}}">
                        {{colorPicker name=key value = setting.value default=setting.value}}
                      </span>
                      {{/iff}}
                  </div>
                  <p class="notes">{{{localize setting.hint}}}</p>
              </div>
            {{/each}}
          </div>
        {{/each}}
      </section>
    {{else}}
      {{#each settings as |group|}}
        <fieldset>
          <legend>{{localize (concat "TWODSIX.Settings.menuLabels." @key)}}</legend>
          {{#each group as |setting key|}}
              <div class="form-group">
                  <label>{{{localize setting.name}}}</label>
                  <div class="form-fields">
                      {{#iff setting.htmlType "===" "Number"}}
                      <input type="number" name="{{key}}" value="{{setting.value}}" data-dtype="Number">
                      {{/iff}}
                      {{#iff setting.htmlType "===" "String"}}
                      <input type="text" name="{{key}}" value="{{setting.value}}" data-dtype="String">
                      {{/iff}}

                      {{#iff setting.htmlType "===" "Select"}}
                      <select name="{{key}}" id = "{{key}}" value="{{setting.value}}">
                        {{selectOptions setting.choices selected = setting.value localize = setting.localize}}
                      </select>
                      {{/iff}}

                      {{#iff setting.htmlType "===" "Boolean"}}
                      <span class="advanced-settings-checkbox-wrapper">
                          <input type="checkbox" name="{{key}}" data-dtype="Boolean" {{#if setting.value}}checked{{/if}}>
                      </span>
                      {{/iff}}

                      {{#iff setting.htmlType "===" "Color"}}
                      <span class = "color-select" name="{{key}}">
                        {{colorPicker name=key value = setting.value default=setting.value}}
                      </span>
                      {{/iff}}
                  </div>
                  <p class="notes">{{{localize setting.hint}}}</p>
              </div>
          {{/each}}
        </fieldset>
        <br>
      {{/each}}
    {{/if}}

    <footer class="sheet-footer flexrow">
      <button type="submit" name="submit">
          <i class="far fa-save"></i> {{localize "Save Changes"}}
      </button>
      <button name="cancel">
          <i class="fa-solid fa-circle-x"></i> {{localize "Cancel"}}
      </button>
    </footer>
</form>
